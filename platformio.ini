; PlatformIO Project Configuration File
; Build options for Nebula Poi
; Supports both Teensy 4.1 and ESP32

[platformio]
default_envs = teensy41

; Teensy 4.1 Environment
[env:teensy41]
platform = teensy
board = teensy41
framework = arduino
lib_deps = 
    fastled/FastLED@^3.5.0
build_flags = 
    -D USB_SERIAL
    -O2
monitor_speed = 115200
upload_protocol = teensy-cli

; ESP32 Environment
[env:esp32]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600
lib_deps = 
monitor_filters = 
    esp32_exception_decoder
build_flags = 
    -D CORE_DEBUG_LEVEL=3
board_build.partitions = default.csv
board_build.filesystem = spiffs

; Common settings
[env]
monitor_speed = 115200
check_tool = cppcheck, clangtidy
check_flags = 
    cppcheck: --enable=all
    clangtidy: --checks=-*,clang-analyzer-*,performance-*
