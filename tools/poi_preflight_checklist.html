<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POI Pre-flight Checklist</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            padding: 30px;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 25px;
            font-size: 14px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 25px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 6px;
            background: #f8f9fa;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .checklist-item:hover {
            background: #f0f1f5;
        }

        .checklist-item.checked {
            background: #f0fdf4;
            border-left: 4px solid #10b981;
        }

        .checklist-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-top: 2px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .item-content {
            flex: 1;
        }

        .item-label {
            font-weight: 500;
            color: #333;
            margin-bottom: 3px;
            display: block;
        }

        .item-description {
            font-size: 12px;
            color: #999;
            line-height: 1.4;
        }

        .checklist-item.checked .item-label {
            color: #666;
            text-decoration: line-through;
        }

        .warning {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 4px;
            font-size: 13px;
            color: #92400e;
        }

        .info {
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 4px;
            font-size: 13px;
            color: #1e40af;
        }

        .result-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e5e7eb;
        }

        .result-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .result-badge.ready {
            background: #d1fae5;
            color: #065f46;
        }

        .result-badge.not-ready {
            background: #fee2e2;
            color: #7f1d1d;
        }

        .result-badge.warning {
            background: #fef3c7;
            color: #92400e;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-reset {
            background: #f3f4f6;
            color: #333;
        }

        .btn-reset:hover {
            background: #e5e7eb;
        }

        .btn-print {
            background: #667eea;
            color: white;
        }

        .btn-print:hover {
            background: #5568d3;
        }

        .completion-message {
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            border-radius: 6px;
            display: none;
        }

        .completion-message.show {
            display: block;
        }

        .completion-message.ready {
            background: #d1fae5;
            color: #065f46;
        }

        .completion-message.ready h3 {
            margin-bottom: 5px;
            font-size: 20px;
        }

        .emoji {
            font-size: 24px;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 24px;
            }

            .action-buttons {
                flex-direction: column;
            }
        }

        @media print {
            body {
                background: white;
            }

            .action-buttons,
            .progress-bar {
                display: none;
            }

            .container {
                box-shadow: none;
                padding: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>
            <span class="emoji">üéØ</span>
            POI Pre-flight Checklist
        </h1>
        <div class="subtitle">Complete this checklist before spinning your poi</div>

        <div class="progress-bar">
            <div class="progress-fill"></div>
        </div>

        <!-- Battery Section -->
        <div class="section">
            <div class="section-title">üîã Battery & Power</div>

            <div class="warning">
                ‚ö†Ô∏è Never spin with battery below 10.5V. Check serial monitor before use.
            </div>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Battery voltage 11.0V - 12.6V</span>
                    <span class="item-description">Use LiPo voltage checker or serial monitor</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">No visible battery damage</span>
                    <span class="item-description">Check for puffing, dents, or leaks</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Battery leads properly connected</span>
                    <span class="item-description">XT60 connector fully seated and secure</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">No heat from regulator</span>
                    <span class="item-description">Regulator should be at room temperature</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">INA219 battery monitor readings visible</span>
                    <span class="item-description">Serial monitor shows voltage and current</span>
                </div>
            </label>
        </div>

        <!-- Hardware Section -->
        <div class="section">
            <div class="section-title">‚öôÔ∏è Hardware Connections</div>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">LED strip power connected</span>
                    <span class="item-description">5V and GND to APA102 VCC and GND</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Teensy powered and booting</span>
                    <span class="item-description">Should see Serial output at 115200 baud</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">LED 0-31 test pattern visible</span>
                    <span class="item-description">Quick flash when system boots</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">All solder joints are solid</span>
                    <span class="item-description">No cold solder, no visible cracks</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Heat shrink tubing covers all connections</span>
                    <span class="item-description">No exposed bare wire</span>
                </div>
            </label>
        </div>

        <!-- Software Section -->
        <div class="section">
            <div class="section-title">üíª Software & WiFi</div>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Teensy firmware uploaded</span>
                    <span class="item-description">Recent build (check timestamp in code)</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">WiFi AP visible (POV-POI-WiFi)</span>
                    <span class="item-description">ESP32 booted and broadcasting</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Web interface accessible</span>
                    <span class="item-description">Can reach 192.168.4.1 or povpoi.local</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Display mode can be selected</span>
                    <span class="item-description">Try changing to pattern or image mode</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Current draw measures correctly</span>
                    <span class="item-description">Increases when LEDs turn on</span>
                </div>
            </label>
        </div>

        <!-- Safety Section -->
        <div class="section">
            <div class="section-title">üõ°Ô∏è Safety Check</div>

            <div class="info">
                ‚ÑπÔ∏è Never look directly at LEDs at full brightness. Use protective eyewear if needed.
            </div>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Spinning area is clear</span>
                    <span class="item-description">At least 3-4 feet clear in all directions</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Test at low brightness first</span>
                    <span class="item-description">Start at brightness 50 (not full 255)</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Know how to shut down quickly</span>
                    <span class="item-description">Send idle command or disconnect battery</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">Helmet or protective eyewear ready</span>
                    <span class="item-description">For personal and audience safety</span>
                </div>
            </label>

            <label class="checklist-item">
                <input type="checkbox" class="check-item">
                <div class="item-content">
                    <span class="item-label">No flammable materials in area</span>
                    <span class="item-description">Especially important with battery power</span>
                </div>
            </label>
        </div>

        <!-- Results Section -->
        <div class="result-section">
            <div class="completion-message ready show">
                <h3>‚úÖ You're Ready to Spin!</h3>
                <p>All systems checked and verified.</p>
            </div>

            <div class="action-buttons">
                <button class="btn-reset" onclick="resetChecklist()">Reset Checklist</button>
                <button class="btn-print" onclick="window.print()">Print Checklist</button>
            </div>
        </div>
    </div>

    <script>
        const checkItems = document.querySelectorAll('.check-item');
        const progressFill = document.querySelector('.progress-fill');
        const completionMessage = document.querySelector('.completion-message');

        // Load saved state from localStorage
        function loadChecklist() {
            const saved = localStorage.getItem('poiChecklist');
            if (saved) {
                const checkedItems = JSON.parse(saved);
                checkItems.forEach((item, index) => {
                    if (checkedItems[index]) {
                        item.checked = true;
                        item.parentElement.classList.add('checked');
                    }
                });
            }
            updateProgress();
        }

        function updateProgress() {
            const checked = document.querySelectorAll('.check-item:checked').length;
            const total = checkItems.length;
            const percentage = (checked / total) * 100;

            progressFill.style.width = percentage + '%';

            // Show/hide completion message
            if (percentage === 100) {
                completionMessage.classList.add('show');
                completionMessage.classList.add('ready');
            } else {
                completionMessage.classList.remove('show');
            }

            // Save to localStorage
            const checkedItems = Array.from(checkItems).map(item => item.checked);
            localStorage.setItem('poiChecklist', JSON.stringify(checkedItems));
        }

        function resetChecklist() {
            if (confirm('Reset all checks? This cannot be undone.')) {
                checkItems.forEach(item => {
                    item.checked = false;
                    item.parentElement.classList.remove('checked');
                });
                localStorage.removeItem('poiChecklist');
                updateProgress();
            }
        }

        // Add event listeners
        checkItems.forEach(item => {
            item.addEventListener('change', function() {
                this.parentElement.classList.toggle('checked');
                updateProgress();
            });
        });

        // Make entire item clickable
        document.querySelectorAll('.checklist-item').forEach(item => {
            item.addEventListener('click', function(e) {
                if (e.target.tagName !== 'INPUT') {
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    checkbox.checked = !checkbox.checked;
                    checkbox.dispatchEvent(new Event('change'));
                }
            });
        });

        // Initialize on load
        window.addEventListener('load', loadChecklist);
    </script>
</body>
</html>
